(()=>{"use strict";var e,t={909:()=>{const e=window.wp.blocks,t=window.React,n=window.wp.i18n,o=window.wp.blockEditor,c=window.wp.components,l=window.wp.primitives,r=(0,t.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(l.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"})),a=(0,t.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,t.createElement)(l.Path,{d:"M6.734 16.106l2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.157 1.093-1.027-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734z"})),i=(0,t.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,t.createElement)(l.Path,{d:"M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm1.13 9.38l.35-6.46H8.52l.35 6.46h2.26zm-.09 3.36c.24-.23.37-.55.37-.96 0-.42-.12-.74-.36-.97s-.59-.35-1.06-.35-.82.12-1.07.35-.37.55-.37.97c0 .41.13.73.38.96.26.23.61.34 1.06.34s.8-.11 1.05-.34z"})),s=({projectId:e,loading:o,error:l,onChangeProjectId:s})=>{const u=(0,t.useRef)(null),[p,d]=(0,t.useState)(!1),[m,h]=(0,t.useState)("");if(o)return(0,t.createElement)(c.Placeholder,{icon:r,label:(0,n.__)("Loading...","noticefaq")});const w=()=>{d(!1),m&&(h(""),s(m))},v=p?(0,t.createElement)(c.Popover,{anchor:u.current,onClose:w},(0,t.createElement)("form",{style:{display:"flex"},onSubmit:w},(0,t.createElement)("input",{type:"text",value:m,onChange:e=>h(e.target.value),placeholder:"Paste your Project ID",autoFocus:!0}),(0,t.createElement)(c.Button,{icon:a,label:(0,n.__)("Apply"),type:"submit"}))):(0,t.createElement)(t.Fragment,null);return l?(0,t.createElement)(c.Placeholder,{icon:i,label:l},(0,t.createElement)(c.Button,{ref:u,onClick:()=>d(!0),isPrimary:!0},"Edit Project ID"),v):e?(0,t.createElement)(t.Fragment,null):(0,t.createElement)(c.Placeholder,{icon:r,label:(0,n.__)("Notice block","noticefaq"),instructions:(0,n.__)("You need to edit the project ID of this block to see it appear on your site.","noticefaq")},(0,t.createElement)(c.Button,{ref:u,onClick:()=>d(!0),isPrimary:!0},"Edit Project ID"),v)},u=JSON.parse('{"u2":"noticefaq/block"}');(0,e.registerBlockType)(u.u2,{edit:function({attributes:e,setAttributes:r,...a}){const i=((e,n=300)=>{const[o,c]=(0,t.useState)(e);return(0,t.useEffect)((()=>{const t=setTimeout((()=>{c(e)}),n);return()=>{clearTimeout(t)}}),[e,n]),o})(e.projectId,750),[u,p]=(0,t.useState)(!1),[d,m]=(0,t.useState)(null),[h,w]=(0,t.useState)(null),v=e=>{r({projectId:e}),m(null),p(!1),w(null)};return(0,t.useEffect)((()=>{p(!0),w(null)}),[e.projectId]),(0,t.useEffect)((()=>{i?fetch(`https://bdn.notice.studio/blocks/${encodeURIComponent(i)}`).then((async e=>{const t=await e.json();e.ok&&t.success?(m(null),w(t.data)):(m((0,n.__)("Could not find","noticefaq")+' "'+i+'"'),w(null))})).finally((()=>{p(!1)})):(p(!1),w(null))}),[i]),(0,t.createElement)("div",{...(0,o.useBlockProps)()},(0,t.createElement)(o.InspectorControls,null,(0,t.createElement)(c.PanelBody,{title:(0,n.__)("Block Properties","noticefaq")},(0,t.createElement)(c.TextControl,{label:(0,n.__)("Project ID","noticefaq"),value:e.projectId,onChange:e=>v(e)}))),(0,t.createElement)(s,{projectId:i,loading:u,error:d,onChangeProjectId:e=>v(e)}),i&&!u&&!d&&null!=h&&(0,t.createElement)(c.Placeholder,{icon:(0,t.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",style:{height:"20px"},viewBox:"0 0 384 512"},(0,t.createElement)(l.Path,{d:"M272 384c9.6-31.9 29.5-59.1 49.2-86.2l0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4l0 0c19.8 27.1 39.7 54.4 49.2 86.2H272zM192 512c44.2 0 80-35.8 80-80V416H112v16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z"})),label:h.data.text,instructions:(0,n.__)("Your Notice project is loaded and will be visible and interactive on the public/preview page.","noticefaq")}))},save:()=>null})}},n={};function o(e){var c=n[e];if(void 0!==c)return c.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,o),l.exports}o.m=t,e=[],o.O=(t,n,c,l)=>{if(!n){var r=1/0;for(u=0;u<e.length;u++){for(var[n,c,l]=e[u],a=!0,i=0;i<n.length;i++)(!1&l||r>=l)&&Object.keys(o.O).every((e=>o.O[e](n[i])))?n.splice(i--,1):(a=!1,l<r&&(r=l));if(a){e.splice(u--,1);var s=c();void 0!==s&&(t=s)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[n,c,l]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var c,l,[r,a,i]=n,s=0;if(r.some((t=>0!==e[t]))){for(c in a)o.o(a,c)&&(o.m[c]=a[c]);if(i)var u=i(o)}for(t&&t(n);s<r.length;s++)l=r[s],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(u)},n=globalThis.webpackChunknoticefaq=globalThis.webpackChunknoticefaq||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var c=o.O(void 0,[431],(()=>o(909)));c=o.O(c)})();