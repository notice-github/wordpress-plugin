(()=>{"use strict";var e,t={909:()=>{const e=window.wp.blocks,t=window.React,n=window.wp.i18n,r=window.wp.blockEditor,o=window.wp.components,c=window.wp.primitives,l=(0,t.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(c.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"})),a=(0,t.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,t.createElement)(c.Path,{d:"M6.734 16.106l2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.157 1.093-1.027-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734z"})),i=(0,t.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,t.createElement)(c.Path,{d:"M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm1.13 9.38l.35-6.46H8.52l.35 6.46h2.26zm-.09 3.36c.24-.23.37-.55.37-.96 0-.42-.12-.74-.36-.97s-.59-.35-1.06-.35-.82.12-1.07.35-.37.55-.37.97c0 .41.13.73.38.96.26.23.61.34 1.06.34s.8-.11 1.05-.34z"})),s=({projectId:e,loading:r,error:c,onChangeProjectId:s})=>{const u=(0,t.useRef)(null),[d,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)("");if(r)return(0,t.createElement)(o.Placeholder,{icon:l,label:(0,n.__)("Loading...","noticefaq")});const h=()=>{m(!1),p&&(f(""),s(p))},w=d?(0,t.createElement)(o.Popover,{anchor:u.current,onClose:h},(0,t.createElement)("form",{style:{display:"flex"},onSubmit:h},(0,t.createElement)("input",{type:"text",value:p,onChange:e=>f(e.target.value),placeholder:"Paste your Project ID",autoFocus:!0}),(0,t.createElement)(o.Button,{icon:a,label:(0,n.__)("Apply"),type:"submit"}))):(0,t.createElement)(t.Fragment,null);return c?(0,t.createElement)(o.Placeholder,{icon:i,label:c},(0,t.createElement)(o.Button,{ref:u,onClick:()=>m(!0),isPrimary:!0},"Edit Project ID"),w):e?(0,t.createElement)(t.Fragment,null):(0,t.createElement)(o.Placeholder,{icon:l,label:(0,n.__)("Notice block","noticefaq"),instructions:(0,n.__)("You need to edit the project ID of this block to see it appear on your site.","noticefaq")},(0,t.createElement)(o.Button,{ref:u,onClick:()=>m(!0),isPrimary:!0},"Edit Project ID"),w)},u=JSON.parse('{"u2":"noticefaq/block"}');(0,e.registerBlockType)(u.u2,{edit:function({attributes:e,setAttributes:c,...l}){const a=(0,t.useRef)(null),i=((e,n=300)=>{const[r,o]=(0,t.useState)(e);return(0,t.useEffect)((()=>{const t=setTimeout((()=>{o(e)}),n);return()=>{clearTimeout(t)}}),[e,n]),r})(e.projectId,750),[u,d]=(0,t.useState)(!1),[m,p]=(0,t.useState)(null),f=()=>a.current.ownerDocument.defaultView,h=e=>{c({projectId:e}),p(null),d(!1)};return(0,t.useEffect)((()=>{d(!0),a.current.innerHTML=""}),[e.projectId]),(0,t.useEffect)((()=>{i?fetch(`https://bdn.notice.studio/document/${encodeURIComponent(i)}?format=fragmented`).then((async e=>{const t=await e.json();if(e.ok){const e=[t.body,`<style>${t.style}</style>`];for(let n of t.head){if("title"===n.tagName)continue;const t=document.createElement(n.tagName);for(let[e,r]of Object.entries(n.attributes))t.setAttribute(e,r);n.innerHTML?t.innerHTML=n.innerHTML:n.innerText&&(t.innerText=n.innerText),e.push(t.outerHTML)}p(null),f().$NTC={},f().$NTC[t.id]=(e=>({toggleExpandable(t){const n=e.getElementById(t);if(!n)return null;"true"===n.getAttribute("aria-expanded")?n.setAttribute("aria-expanded","false"):n.setAttribute("aria-expanded","true")}}))(a.current.ownerDocument),a.current.innerHTML=e.join("\n")}else p(t.error.message),a.current.innerHTML=""})).finally((()=>{d(!1)})):(d(!1),a.current.innerHTML="")}),[i]),(0,t.createElement)("div",{...(0,r.useBlockProps)()},(0,t.createElement)(r.InspectorControls,null,(0,t.createElement)(o.PanelBody,{title:(0,n.__)("Block Properties","noticefaq")},(0,t.createElement)(o.TextControl,{label:(0,n.__)("Project ID","noticefaq"),value:e.projectId,onChange:e=>h(e)}))),(0,t.createElement)(s,{projectId:i,loading:u,error:m,onChangeProjectId:e=>h(e)}),(0,t.createElement)("div",{ref:a}))},save:()=>null})}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var c=n[e]={exports:{}};return t[e](c,c.exports,r),c.exports}r.m=t,e=[],r.O=(t,n,o,c)=>{if(!n){var l=1/0;for(u=0;u<e.length;u++){for(var[n,o,c]=e[u],a=!0,i=0;i<n.length;i++)(!1&c||l>=c)&&Object.keys(r.O).every((e=>r.O[e](n[i])))?n.splice(i--,1):(a=!1,c<l&&(l=c));if(a){e.splice(u--,1);var s=o();void 0!==s&&(t=s)}}return t}c=c||0;for(var u=e.length;u>0&&e[u-1][2]>c;u--)e[u]=e[u-1];e[u]=[n,o,c]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,c,[l,a,i]=n,s=0;if(l.some((t=>0!==e[t]))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(i)var u=i(r)}for(t&&t(n);s<l.length;s++)c=l[s],r.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return r.O(u)},n=globalThis.webpackChunknoticefaq=globalThis.webpackChunknoticefaq||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[431],(()=>r(909)));o=r.O(o)})();